\documentclass[10pt,pdf,hyperref={unicode}]{beamer}
\usepackage[T2A]{fontenc}       %поддержка кириллицы
\usepackage[utf8]{inputenc}   %пока бибтех не дружит до конца с юникодом
\usepackage[russian]{babel}     %определение языков в документе
\usepackage{amssymb,amsmath}    %математика

\usepackage{caption}
\usepackage{subcaption}

\usepackage{float}
\floatstyle{boxed}
\restylefloat{figure}

\usetheme[]{Berlin}
\usecolortheme{rose}

%%%%%%%%%%%%%%%%%%%
%% Выбор шрифтов %%
\usefonttheme[onlylarge]{structurebold}

% Привычный шрифт для математических формул
\usefonttheme[onlymath]{serif}

% Более крупный шрифт для подзаголовков титульного листа
\setbeamerfont{institute}{size=\normalsize}
%%%%%%%%%%%%%%%%%%%

% Если используется последовательное появление пунктов списков на
% слайде (не злоупотребляйте в слайдах для защиты дипломной работы),
% чтобы еще непоявившиеся пункты были все-таки немножко видны.
\setbeamercovered{transparent}

%%%%%%%%%%%%%%%%%%
%%% Сокращения %%%
% Синий цвет выделения
\setbeamercolor{color1}{bg=blue!60!black,fg=white}
%%%%%%%%%%%%%%%%%%

\title{Построение, запуск и анализ потоков данных в распределенных средах}
\author{Борисяк Максим}
\institute{МФТИ
%    \vspace{0.7cm}
 %   Научный руководитель:  ФИО шефа с регалиями \\
%    \vspace{0.7cm}
}
\date{
    \\
    2013г.
}

\newcommand{\stock}{\text{STOCK}}
\newcommand{\source}{\text{SOURCE}}
\newcommand{\initial}{\text{INITIAL}}
\newcommand{\nontrivial}{\text{NON-TRIVIAL}}
\newcommand{\map}{\text{MAP}}

\newcommand{\FA}{F\!A}

\begin{document}
\begin{frame}
  % создаём титульный лист
  \maketitle
\end{frame}

\section{Введение}

\begin{frame}
  \frametitle{Цели работы}
 \begin{columns}
    \column{\textwidth}
     \begin{itemize}
        \item Создание формальной модели потока данных
        \item Анализ неопределенностей в схемах потоков данных
        \item Оценка необходимых ресурсов для запуска потока данных
    \end{itemize}
\end{columns}
\end{frame}

\begin{frame}
  \frametitle{Определение потока данных}
  Поток данных --- модель представления вычеслительных процессов, включающая:
  \begin{itemize}
    \item набор атомарных функций-исполнителей,
    \item составные исполнители или подпотоки данных,
    \item описание зависимостей между исполнителями,
    \item стратегия выполнения.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Задачи потоков данных}
  \begin{itemize}
    \item Научные-инженерные задачи.
    \begin{itemize}
      \item Большие объемы данных.
      \item Выполнение в распределенных средах.
    \end{itemize}
    \item Изолиция от технических аспектов вычислений.
    \item Отказоустойчивость.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Приемущества потоков данных}
  \begin{itemize}
    \item Возможность интуитивно понятного визуального представления.
    \item Изолированность от технических аспектов вычислительной среды.
    \item Простота создания.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Способы представления}
  \begin{itemize}
    \item Декларативные либо скриптовые ЯП.
    \item Графы.
    \item Сети Петри.
    \item Сети процессов Кана (для потоковой обработки).
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Используемая модель потоков данных}
  Используется представление в виде ориентированного графа.
  Поток данных --- кортеж $c = (B, E, I, O)$:
  \begin{itemize}
    \item набор блоков $B$ --- каждый блок осуществляет преобразование данных;
    \item связи $E$ --- зависимости по данным между входными портами одних и выходными портами других блоков;
    \item $I$, $O$ --- наборы входных и выходных портов (начальных данных и результатов).
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Блок}
  Блок --- единица преобразования данных, кортеж $s = (\FA, I, O)$:
  \begin{itemize}
    \item $\FA$ --- автомат Мили, описывающий качественное поведение алгоритма блока:
      \begin{itemize}
        \item входной алфавит: $2^I$;
        \item выходной алфавит: $2^O$;
        \item состояния определяют классы внутренних состояний переменных
              алгоритма блока;
      \end{itemize}
    \item $I$, $O$ --- наборы входных и выходных портов.
  \end{itemize}
  Различается два типа блоков:
  \begin{itemize}
    \item атомарные --- предопределенные блоки элементарных операций;
    \item составные --- потоки данных, представленные в виде блоков.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Наглядное представление блоков и автомата Мили}
  \begin{figure}[H]
  \centering

  \begin{subfigure}[b]{0.2\textwidth}
    \centering
    \includegraphics[width=\textwidth]{map_cg.pdf}
    \caption{Схема шаблона \textit{Loop}}
    \label{map:connection}
  \end{subfigure}
  ~
  \begin{subfigure}[b]{0.7\textwidth}
    \centering
    \includegraphics[width=\textwidth]{map_fa.pdf}
    \caption{Автомат Мили шаблона \textit{Loop}}
    \label{map:fa}
  \end{subfigure}
  
  \caption{Схематичное изображение шаблона блока \textit{Loop} (a) и соответствующего ему конечного автомата Мили (b).}
  \label{map}
\end{figure}
\end{frame}

\begin{frame}
  \begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{cc_cg.pdf}
    \caption{Шаблон составного блока. Внутри рамки показана структура шаблона внутреннего блока.}
    \label{example:supercomposite}
  \end{figure}
\end{frame}

\begin{frame}
  \frametitle{Состояния блока во время запуска потока данных}
  Три состояния каждого блока:
  \begin{itemize}
    \item работает (work) --- выполняет преобразование данных;
    \item заблокирован (blocked) --- завершил работу, но не может испустить данные;
    \item свободен (free) --- не хватает данных для запуска.
  \end{itemize}
  
  \begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{rules.pdf}
  \end{figure}
\end{frame}

\begin{frame}
  \frametitle{Алгоритм запуска потока данных}
  Алгоритм запуска потока данных:
  \begin{enumerate}
    \item определение блоков для запуска в соответствии с запрашиваемым набором данных \label{check};
    \item передача данных, запуск блоков \label{launch};
    \item проверка возможности вывода блока из состояния 'заблокирован':
      \begin{itemize}
        \item возможно --- переход к шагу \ref{launch};
        \item иначе --- к шагу \ref{wait};
      \end{itemize}
    \item ожидание окончания работы блоков, проверка завершения работы потока данных \label{wait}:
    \begin{itemize}
      \item работа завершена --- окончание, выдача результата;
      \item иначе --- к шагу \ref{check}.
    \end{itemize}
  \end{enumerate}
\end{frame}

\begin{frame}
  \frametitle{Неопределенности в работе потоков данных}
  \begin{itemize}
    \item Варианты переходов автомата Мили блока.
    \item Варианты поглощения данных на входных портах блока.
    \item Состояния гонки: зависимость результата от времен работы блоков.
    \item Остаточные данные.
  \end{itemize}
  Первый тип неопределенности --- результат упрощения (детерминированного) алгоритма работы блоков, неопределенности первого рода.
  Остальные --- ошибки построения схемы потока данных, неопределенности второго рода.\\
  \textbf{Корректный поток данных} --- поток данных, не допускающий неопределенностей второго рода.
\end{frame}

\begin{frame}
  \frametitle{Анализ корректных потоков данных}
  Траектория запуска --- наборы состояний потока данных во все моменты времени. \\
  Граф причинности --- качественное описание варианта поведения потока данных:
  \begin{itemize}
    \item вершины --- кортежи $r = (v, \pi_v, n)$, $v \in B_c$ --- блок, $\pi_v$ --- переход в автомате Мили блока $v$, $n$ - номер.
    \item ребра --- 'причины' запуска: испущенные данные одного блока приняты другим.
  \end{itemize}
  Графы причинности разбивают все возможные траектории запуска на классы эквивалентности.
  Для корректного набора данных каждый класс содержит траекторий соотвующие любым возможным наборам времен работы блоков.ё
\end{frame}

\begin{frame}
  \frametitle{Простой волновой алгоритм}
  Для ацикличных корректных потоков данных множество графов причинности конечно.
  \begin{enumerate}
    \item проверка на завершенность потока данных:
      \begin{itemize}
        \item поток данных завершен --- возврат графа причинности;
        \item иначе --- далее;
      \end{itemize}
    \item формирование множеств возможных переходов для каждого блока $\{\Pi(v)\}_{v \in B_c}$;
    \item для каждого набора возможных переходов $\{\pi(v) \in \Pi(v)\}_{v \in B_c}$:
    \begin{enumerate}
      \item осуществление переходов $\pi(v)$ c формированием нового состояния потока данных;
      \item дополнение графа причинности;
      \item получение результата рекурсивного запуска из нового состояния;
    \end{enumerate}
    \item возврат объединения результатов.
  \end{enumerate}
\end{frame}

\begin{frame}
  \frametitle{Волновой алгоритм}
  При наличии циклов в потоке данных множество графов причинности бесконечно, но регулярно.
  Волновой алгоритм строит 'внутренний' конечный автомат потока данных --- аналог конечного
  автомата для регулярных языков:
  \begin{itemize}
    \item вершины --- состояния потока данных;
    \item ребра соответствуют работе блоков в потоке данных.
  \end{itemize}
  Циклы соответствуют циклам во 'внутреннем' конечном автомате.
  Любой путь во 'внутреннем' конечном автомате потока данных соответствует графу причинности и наоборот.
\end{frame}

\begin{frame}
  \frametitle{Анализ графа причинности}
\end{frame}

\begin{frame}
  \frametitle{Обнаружение неопределенностей второго рода}
  \begin{itemize}
    \item Остаточные данные --- во время работы волнового алгоритма по наличию состояний с остаточным данными.
    \item Варианты поглощения данных --- во время работы волнового алгоритма.
    \item Состояния гонки --- ведение истории на портах, ведение истории данных.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Обнаружение состояний гонки}
\end{frame}

\begin{frame}
  \frametitle{Результаты}
  \begin{itemize}
    \item Построена модель потока данных.
    \item Определены возможные неопределенности и ошибки построения потока данных.
    \item Построен алгоритм нахождения ошибок построения потока данных.
    \item Найдены алгоритмы нахождения стратегий запуска для корректных алгоритмов.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Дальнейшая работа}
  \begin{itemize}
    \item Введение модели оценки времени работы потока данных:
    \begin{itemize}
      \item модель оценок времен работы блоков;
      \item стохастическая модель переходов;
      \item обработка историй реальных запусков методами анализа данных.
    \end{itemize}
    \item Алгоритмы автоматической кластеризации блоков.
    \item Модификация модели потоков данных.
    \item Анализ работы потоков данных в гетерогенных и/или динамических распределенных средах.
  \end{itemize}
\end{frame}




\end{document}